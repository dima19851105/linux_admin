    написать скрипт для крона
    который раз в час присылает на заданную почту
    - X IP адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c 
      момента последнего запуска скрипта
    - Y запрашиваемых адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c 
      момента последнего запуска скрипта
    - все ошибки c момента последнего запуска
    - список всех кодов возврата с указанием их кол-ва с момента последнего запуска
    в письме должно быть прописан обрабатываемый временной диапазон
    должна быть реализована защита от мультизапуска
    Критерии оценки: 5 - трапы и функции, а также sed и find +1 балл

# ZSH

На свою хостовую машину (Mint) установил zsh с плагином oh-my-zsh.
Неплохая статья с описанием установки и настройки oh-my-zsh https://niklan.net/blog/149
Проблемы:
1) После установки для темы agnoster в приглашении командной строки не отображались треугольники и значки.
   Потребовалось установить еще раз шрифты powerline, хотя их я устанавливал но из репозитория git.
   
       sudo apt install zsh wget git fonts-powerline
       
2) Этаже проблема возникла но уже в терминале vscode. Как решить описано в статье по ссылке https://blog.zhaytam.com/2019/04/19/powerline-and-zshs-agnoster-theme-in-vs-code/

Другие ссылки:
https://plus.diolinux.com.br/t/dica-como-instalar-o-zsh-oh-my-zsh-tema-agnoster-no-ubuntu-e-derivados/7321
https://gist.github.com/renshuki/3cf3de6e7f00fa7e744a

***

# Стенд для ДЗ

Закинуть файл с логом в ВМ можно 3-я способами (те которые пришли мне в голову =)):
1. Установить плагин *vagrant-vbguest*, чтобы через shared folder получить его в ВМ. Есть минус необходимо 
   качать репозиторий, ставить плагин и запускать ВМ из VagrantFile. Не самый лучший способ.

       vagrant plugin install vagrant-vbguest

2. Скачивать файл с логом во время развертывания ВМ с помощью wget. Файл закинуть в GitHub.
3. Сделать готовый бокс и закинуть его в vagrant cloud.

Думаю второй будет наиболее оптимальным.

Делает все файлы с в текущем каталоге расширение .sh исполняемыми

    for i in *.sh; do chmod +x $i; done

# Теория

Для выпонения нескольких команд необходимо использовать *;*

    pwd ; whoami

Первая строка в скрипте начинается с *#!* далее путь к программе, которая будет выполнять команды в файле.
Для обычного скрипта это */bin/bash*

    #!/bin/bash
    # This is a comment
    pwd
    whoami

Для запуска скрипта, его небходимо сделать исполняемым и использовать команду *bash* или *source*

    chmod +x ./myscript
    bash myscript
   
В скриптах можно использовать переменные, которые бывают двух типов:
* Переменные среды
* Пользовательские переменные

Использование переменной среды

    echo "Home for the current user is: $HOME"

Чтобы в строке использовать знак доллара как обыктовенный символ, его нужно экаранировать

    echo "I have \$1 in my pocket"

Пользовательские переменные:

    grade=5
    person="Adam"
    echo "$person is a good boy, he is in grade $grade"
    
Переменной можно присвоить вывод команды

     mydir=`pwd`
     mydir=$(pwd)
     
 Выполнить математические операции $((a+b))
 
    var1=$(( 5 + 5 ))
    echo $var1
    var2=$(( $var1 * 2 ))
    echo $var2
    
## Циклы
**if-then**
Если условие выполняется то выполняются *команды*

    if команда
    then
    команды
    fi

**if-then-else**

    if команда
    then
    команды
    else
    команды
    fi
    
    #!/bin/bash
    user=anotherUser
    if grep $user /etc/passwd
    then
    echo "The user $user Exists"
    else
    echo "The user $user doesn’t exist"
    fi

**elif**

    if команда1
    then
    команды
    elif команда2
    then
    команды
    fi
    
Если первая команда вернёт ноль, что говорит о её успешном выполнении, выполнятся команды в первом блоке then, иначе, если первое условие окажется ложным, и если вторая команда вернёт ноль, выполнится второй блок кода.

    #!/bin/bash
    user=anotherUser
    if grep $user /etc/passwd
    then
    echo "The user $user Exists"
    elif ls /home
    then
    echo "The user doesn’t exist but anyway there is a directory under /home"
    fi

В подобном скрипте можно, например, создавать нового пользователя с помощью команды useradd, если поиск не дал результатов, или делать ещё что-нибудь полезное.




















Эмуляция поступления данных из лога: while read i; do echo $i; sleep 10; done < access.log

Если вы ищете вариант для отправки почты для скрипта в ДЗ то можно использовать утилиту mail из пакета mailx. 
Адрес получателя - root@localhost
